/*!  2014-08-02 */
!function(a){function b(a){var c=function(a){return b(r[a])},d=a.oldDeps.length,e=[c,a.exports,a];if(d)for(var f=0;d>f;f++)e.push(c(a.oldDeps[f]));var g=a.factory.apply(a,e);return g&&(a.exports=g),a.exports}function c(a){var b=[];return a.toString().replace(p,"").replace(o,function(a,c,d){b.push(d)}),b}function d(a,b,c,d){return r[a]?r[a]:r[a]={id:a,deps:b,factory:c,oldDeps:d,exports:null,state:0}}function e(a,b){var c=f(a);if(!c.length)return void(b&&b());for(var d=[],e=0;e<c.length;e++)d.push(g(c[e]));(new m).promise.when(d,function(){b&&b()})}function f(a){for(var b=[],d=a.deps=0==a.deps.length?a.deps.concat(c(a.factory)):a.deps,e=0;e<d.length;e++)r[d[e]]||b.push(d[e]);return b}function g(a){var b=document.createElement("script");b.charset=l.charset,b.src=l.path+"/"+a.replace(/\./g,"/")+".js"+(/msie/.test(navigator.userAgent.toLowerCase())?"?_="+n++:""),b.async=!0;var c=new m;return b.onload=b.onreadystatechange=function(){/^(?:loaded|complete|undefined)$/.test(b.readyState)&&(b.onerror=b.onload=b.onreadystatechange=null,r[a]?e(r[a],function(){c.resolve(a)}):setTimeout(arguments.callee,1))},b.onerror=function(){throw b.error=b.onload=b.onreadystatechange=null,new Error("Module '"+a+"' is not defined")},j.appendChild(b),c.promise}var h,i,j,k,l={charset:"UTF-8",path:""};h=a.document.getElementById("ld"),l.path=h.getAttribute?h.getAttribute("basePath"):h.basePath,l.path||(i=a.location.href.split("/"),i.pop(),l.path=i.join("/")),j=document.getElementsByTagName("head")[0],k="ld";var m=function(){function a(){var a=this,c="promiseA";a.then=function(b,c){return a.success(b).error(c)},a.success=function(c){if("resolved"==b.state){var d=c.call(a,b.value);d&&("promiseA"==d.getType()?b.promise=d:b.value=d)}else b.successCallbacklist.push(c);return b.promise},a.error=function(c){if("rejected"==b.state){var d=c.call(a,b.value);d&&("promiseA"==d.getType()?b.promise=d:b.value=d)}else b.errorCallbacklist.push(c);return b.promise},a._getState=function(){return b.state},a._getValue=function(){return b.value},a.getType=function(){return c},a.promises=[],a.all=function(c){a.promises=c instanceof Array?c:[c];for(var d=a.promises.length,e=0;d>e;e++)!function(c){a.promises[c].then(function(){for(var c=!0,e=[],f=0;d>f;f++)"rejected"==a.promises[f]._getState()||"default"==a.promises[f]._getState()?c=!1:e.push(a.promises[f]._getValue());c&&b.resolve(e)},function(){for(var c=!0,e=[],f=0;d>f;f++)"resolved"==a.promises[f]._getState()||"default"==a.promises[f]._getState()?c=!1:e.push(a.promises[f]._getValue());c&&b.reject(e)})}(e);return a},a.when=function(c,d){return c instanceof Array||"promiseA"==c.__type__?a.all(c).success(d):(b.resolve(c),a.success(d))}}var b=this;b.state="default",b.value="",b.successCallbacklist=[],b.errorCallbacklist=[],b.resolve=function(a){if("default"==b.state){b.state="resolved",b.value=a;for(var c=0;c<b.successCallbacklist.length;c++)b.promise.success(b.successCallbacklist[c])}},b.reject=function(a){if("default"==b.state){b.state="rejected",b.value=a;for(var c=0;c<b.errorCallbacklist.length;c++)b.promise.error(b.errorCallbacklist[c])}},b.promise=new a},n=(new Date).getTime(),o=/require\(('|")([^()<>\\\/|?*:]*)('|")\)/g,p=/(\/\*(.|[\r\n])*?\*\/)|((\/\/.*))/g,q=new RegExp("ld\\:\\d{"+n.toString().length+"}"),r={};a.define=function(a,f,g){"function"==typeof a&&(g=a,a=k+":"+n++),"function"==typeof f&&(g=f,f=[]),g||(g=function(){});var h=f instanceof Array?f:[];f=f?(f||[]).concat(c(g)):c(g);var i=d(a,f,g,h);q.test(a)&&e(i,function(){b(i)})}}(window,document),define("module2.test2",[],function(){return{test2:"test2"}}),define("module.xxx1",[],function(a){return{xxx1:"xxx1",a:a("module2.test2")}}),define("module.xxx",[],function(a,b,c){var d={xxx:123},e=a("module.xxx1");d.test=e,c.exports=d}),define("module.test",[],function(a){{var b={a:1},c=a("module.xxx");a("module.xxx1")}return b.b=c,b}),define(function(a){var b=a("module.test");console.log(b),console.log({xxx:"xxx",x:{xxx:"xxxx"}})});